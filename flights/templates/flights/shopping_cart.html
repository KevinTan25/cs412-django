<!-- flights/templates/flights/shopping_cart.html -->
{% extends 'flights/base.html' %}
{% block content %}
<div class="shopping-cart-container">
    <h1>Your Shopping Cart</h1>

    {% if cart_flights %}
        <h2>Flights in Cart</h2>
            {% for flight in cart_flights %}
            <div class="cart-item">
                <div class="cart-item-details">
                    <h3>Flight Number: {{ flight.flight.flight_number }}</h3>
                    <p>From: {{ flight.flight.departure_airport.name }}</p>
                    <p>To: {{ flight.flight.arrival_airport.name }}</p>
                </div>
        
                <div class="cart-item-price"><p><strong>Cost:</strong> ${{ flight.flight.cost }}</p></div>
            </div>
            {% endfor %}
    {% else %}
        <p>No flights in your cart.</p>
    {% endif %}

    <div class="cart-footer">
        <div class="total-price">
            <h3>Total Price: ${{ total_price }}</h3>
        </div>

        <form method="post" action="{% url 'delete_cart' %}">
            {% csrf_token %}
            <button type="submit">Delete Cart</button>
        </form>

        <a href="{% url 'all_flights' %}" class="button">Back to All Flights</a>
    </div>
    <a href="{% url 'checkout' %}" class="button">Checkout</a>
</div>
{% endblock %}
