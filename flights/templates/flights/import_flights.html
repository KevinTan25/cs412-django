<!-- flights/templates/flights/import_flights.html -->
{% extends "flights/base.html" %}

{% block content %}
<h1>Import Flights</h1>
<a href="{% url 'all_flights' %}" class="button">Back to All Flights</a>
<form method="POST">
    {% csrf_token %}
    <h3>Departure Airport</h3>
    <label for="departure_id">Select Departure Airport:</label>
    <select id="departure_id" name="departure_id" required>
        <option value="" disabled selected>Select an airport</option>
        {% for airport in airports %}
            <option value="{{ airport.code }}">{{ airport.name }} ({{ airport.city }}, {{ airport.country }})</option>
        {% endfor %}
    </select><br>

    <h3>Arrival Airport</h3>
    <label for="arrival_id">Select Arrival Airport:</label>
    <select id="arrival_id" name="arrival_id" required>
        <option value="" disabled selected>Select an airport</option>
        {% for airport in airports %}
            <option value="{{ airport.code }}">{{ airport.name }} ({{ airport.city }}, {{ airport.country }})</option>
        {% endfor %}
    </select><br>

    <h3>Flight Dates</h3>
    <label for="outbound_date">Outbound Date:</label>
    <input type="date" id="outbound_date" name="outbound_date" required><br>

    <button type="submit">Import Flights</button>
</form>

{% if messages %}
    <ul>
        {% for message in messages %}
            <li style="color: red;">{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}